Série visionné par chaque utilisateur

SELECT UTILISATEUR.ID, UTILISATEUR.NOM as NOM_UTILISATEUR, PRENOM, SERIE.NOM as NOM_SERIE FROM SERIE, UTILISATEUR, VISIONNAGE_SERIE
WHERE VISIONNAGE_SERIE.ID_SERIE = SERIE.ID 
AND VISIONNAGE_SERIE.ID_UTILISATEUR = UTILISATEUR.ID 
ORDER BY UTILISATEUR.ID


Film visionné par chaque utilisateur

SELECT UTILISATEUR.ID, UTILISATEUR.NOM as NOM_UTILISATEUR, PRENOM, FILM.NOM as NOM_FILM FROM FILM, UTILISATEUR, VISIONNAGE_FILM
WHERE VISIONNAGE_FILM.ID_FILM = FILM.ID 
AND VISIONNAGE_FILM.ID_UTILISATEUR = UTILISATEUR.ID 
ORDER BY UTILISATEUR.ID


Film et série visionné par un utilisateur

SELECT UTILISATEUR.ID, UTILISATEUR.NOM as NOM_UTILISATEUR, PRENOM, FILM.NOM as NOM_FILM, SERIE.NOM as NOM_SERIE FROM FILM, SERIE, UTILISATEUR, VISIONNAGE_FILM, VISIONNAGE_SERIE
WHERE VISIONNAGE_FILM.ID_FILM = FILM.ID 
AND VISIONNAGE_FILM.ID_UTILISATEUR = UTILISATEUR.ID 
AND VISIONNAGE_SERIE.ID_SERIE = SERIE.ID 
AND VISIONNAGE_SERIE.ID_UTILISATEUR = UTILISATEUR.ID 
AND UTILISATEUR.ID = 4


DATE PAIEMENT + METHODE_PAIEMENT de chaque utilisateur.

SELECT NOM, PRENOM, DATE_PAIEMENT, METHODE_PAIEMENT FROM UTILISATEUR, PAIEMENT, EFFECTUER
WHERE EFFECTUER.ID_UTILISATEUR = UTILISATEUR.ID
AND EFFECTUER.ID_PAIEMENT = PAIEMENT.ID


DATE PAIEMENT + METHODE PAIEMENT + ABONNEMENT VOULU vérification validité

SELECT NOM, PRENOM, DATE_PAIEMENT, METHODE_PAIEMENT, ABONNEMENT_VOULU, VALIDITE FROM UTILISATEUR, PAIEMENT, EFFECTUER, AUTORISATION_PAIEMENT
WHERE EFFECTUER.ID_UTILISATEUR = UTILISATEUR.ID
AND EFFECTUER.ID_PAIEMENT = PAIEMENT.ID
AND PAIEMENT.ID_AUTORISATION_PAIEMENT = AUTORISATION_PAIEMENT.ID


Film et série joué par l'acteur Spacie Félicie

SELECT DISTINCT ACTEUR.NOM as NOM_ACTEUR, PRENOM, FILM.NOM AS NOM_FILM, SERIE.NOM as NOM_SERIE FROM SERIE, FILM, ACTEUR, INTERPRETE_FILM, INTERPRETE_SERIE
WHERE INTERPRETE_SERIE.ID_ACTEUR = ACTEUR.ID
AND  INTERPRETE_SERIE.ID_SERIE = SERIE.ID
AND INTERPRETE_FILM.ID_ACTEUR = ACTEUR.ID
AND INTERPRETE_FILM.ID_FILM = FILM.ID
AND PRENOM LIKE 'Félicie' AND ACTEUR.NOM LIKE 'Spacie'
ORDER BY NOM_SERIE


ACTEUR jouant dans la série DARK

SELECT SERIE.NOM as NOM_SERIE, ACTEUR.NOM as NOM_ACTEUR, PRENOM FROM SERIE, ACTEUR, INTERPRETE_SERIE
WHERE INTERPRETE_SERIE.ID_ACTEUR = ACTEUR.ID
AND  INTERPRETE_SERIE.ID_SERIE = SERIE.ID
AND SERIE.NOM LIKE 'DARK'

Compter le nombre du Film

SELECT COUNT(FILM.NOM) as NBR_FILM FROM FILM


Nbr de fois que l'utilisateur à vue la série

SELECT COUNT(*) as NBR_SERIE_VUE, SERIE.NOM FROM VISIONNAGE_SERIE, SERIE
WHERE VISIONNAGE_SERIE.ID_SERIE = SERIE.ID
AND ID_UTILISATEUR = 189
GROUP BY SERIE.NOM

Nbr de fois qu'une série a été vu

SELECT COUNT(*) as NBR_SERIE_VUE, SERIE.NOM FROM VISIONNAGE_SERIE, SERIE
WHERE VISIONNAGE_SERIE.ID_SERIE = SERIE.ID
GROUP BY SERIE.NOM





TEMPS D'UNE REQUETE

declare @t1 datetime
declare @t2 datetime
set @t1 = getdate()

///
/// Requêtes
///

set @t2 = getdate()
print 'temps de réponse : ' + RTRIM(CONVERT(varchar(20), datediff(ms,@t1,@t2))) + ' millisecondes'